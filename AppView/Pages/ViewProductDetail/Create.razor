@page "/products/crud"
@using AppView.Services;
@inject NavigationManager navigationManager
<h3>Thêm mới sản phẩm</h3>
<div class="form-group">
    <label for="code">Mã:</label>
    <input type="text" class="form-control" id="code" @bind="newProduct.Ma">
</div>
<div class="form-group">
    <label for="name">Tên:</label>
    <input type="text" class="form-control" id="name" @bind="newProduct.Ten">
</div>
<div class="form-group">
    <label for="imageUrl">Ảnh:</label>
    <input type="text" class="form-control" id="imageUrl" @bind="newProduct.Anh">
</div>
<div class="form-group">
    <label for="category">Loại:</label>
    <input type="text" class="form-control" id="category" @bind="newProduct.Loai">
</div>
<div class="form-group">
    <label for="price">Giá bán:</label>
    <input type="number" class="form-control" id="price" @bind="newProduct.GiaBan">
</div>
<button class="btn btn-primary" @onclick="AddProduct">Thêm mới</button>

@code {
    private ProductDetail newProduct = new ProductDetail();
    [Inject]
    private IProductDetailService productService { get; set; }

    private void AddProduct()
    {
        newProduct.Id = Guid.NewGuid();
        productService.Add(newProduct);
        navigationManager.NavigateTo("/productDetails", forceLoad:true);
    }
}